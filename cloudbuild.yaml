steps:
- name: docker.io/library/python:3.7
  args: ['pip3', 'install', '-r', 'requirements.txt']
  id: Install dependencies
- name: docker.io/library/python:3.7
  entrypoint: pylint
  args: ['--rcfile=test/pylintrc', 'src/*.py']
  id: Lint source code
  waitFor: ['Install dependencies']
- name: docker.io/library/python:3.7
  entrypoint: pylint
  args: ['--rcfile=test/pylintrc', 'test/sampleData/*.py']
  id: Lint autogenerated files
  waitFor: ['Install dependencies']
- name: docker.io/library/python:3.7
  entrypoint: python
  args: ['-m', 'unittest', 'test.test_codegen']
  id: Run unit tests
  waitFor: ['Lint source code', 'Lint autogenerated files']
